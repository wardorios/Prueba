<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor de Obra - Vivienda Unifamiliar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üèóÔ∏è Monitor de Avance de Obra</h1>
                <div class="obra-info">
                    <h2>Vivienda Unifamiliar - Abel Rios y Alba Velazquez</h2>
                    <p>üìç Condominio Costa Del Lago - Hernandarias</p>
                    <p>üìÖ Certificado N¬∞ 05 - 29/12/2025</p>
                </div>
            </div>
        </header>

        <!-- Dashboard Principal -->
        <section class="dashboard">
            <div class="card card-presupuesto">
                <h3>üí∞ Presupuesto Total</h3>
                <p class="big-number">‚Ç≤ <span id="presupuesto-total">1.040.000.000</span></p>
            </div>

            <div class="card card-ejecutado">
                <h3>‚úÖ Total Ejecutado</h3>
                <p class="big-number">‚Ç≤ <span id="total-ejecutado">237.666.280</span></p>
            </div>

            <div class="card card-pendiente">
                <h3>‚è≥ Pendiente de Ejecutar</h3>
                <p class="big-number">‚Ç≤ <span id="pendiente">802.333.720</span></p>
            </div>

            <div class="card card-progreso">
                <h3>üìä Progreso General</h3>
                <p class="big-number"><span id="porcentaje-total">22.85</span>%</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill-main"></div>
                </div>
            </div>
        </section>

        <!-- Gr√°fico de Progreso por Rubro -->
        <section class="grafico-section">
            <div class="card">
                <h3>üìà Progreso por Rubro Principal</h3>
                <div id="chart-rubros" class="chart-container"></div>
            </div>
        </section>

        <!-- Filtros y Controles -->
        <section class="controles">
            <div class="filtros">
                <button class="btn btn-filter active" onclick="filtrarRubros('todos')">Todos</button>
                <button class="btn btn-filter" onclick="filtrarRubros('completados')">Completados</button>
                <button class="btn btn-filter" onclick="filtrarRubros('en-proceso')">En Proceso</button>
                <button class="btn btn-filter" onclick="filtrarRubros('pendientes')">Pendientes</button>
            </div>
            <div class="acciones">
                <button class="btn btn-primary" onclick="exportarDatos()">üì• Exportar CSV</button>
                <button class="btn btn-secondary" onclick="imprimirReporte()">üñ®Ô∏è Imprimir</button>
            </div>
        </section>

        <!-- Tabla Detallada de Rubros -->
        <section class="tabla-section">
            <div class="card">
                <h3>üìã Detalle de Rubros y Sub-√≠tems</h3>
                <div class="tabla-container">
                    <table id="tabla-rubros">
                        <thead>
                            <tr>
                                <th>N¬∞</th>
                                <th>Rubro / Sub-√≠tem</th>
                                <th>UND</th>
                                <th>Cantidad Total</th>
                                <th>Cant. Acumulada</th>
                                <th>Precio Unitario</th>
                                <th>Precio Total</th>
                                <th>Monto Ejecutado</th>
                                <th>Progreso</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="tabla-body">
                            <!-- Se llenar√° con JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Resumen por Certificado -->
        <section class="certificados-section">
            <div class="card">
                <h3>üìÑ Resumen de Certificaciones</h3>
                <div class="certificado-resumen">
                    <div class="cert-item">
                        <span class="cert-label">Monto Anterior:</span>
                        <span class="cert-valor">‚Ç≤ <span id="monto-anterior">199.723.200</span></span>
                    </div>
                    <div class="cert-item">
                        <span class="cert-label">Monto Actual (Cert. 05):</span>
                        <span class="cert-valor highlight">‚Ç≤ <span id="monto-actual">37.943.080</span></span>
                    </div>
                    <div class="cert-item">
                        <span class="cert-label">Monto Acumulado:</span>
                        <span class="cert-valor">‚Ç≤ <span id="monto-acumulado">237.666.280</span></span>
                    </div>
                    <div class="cert-item">
                        <span class="cert-label">Devoluci√≥n Anticipo (20%):</span>
                        <span class="cert-valor negative">- ‚Ç≤ <span id="devolucion-anticipo">47.533.256</span></span>
                    </div>
                    <div class="cert-item total">
                        <span class="cert-label">Total Neto a Pagar:</span>
                        <span class="cert-valor">‚Ç≤ <span id="total-neto">190.133.024</span></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Sistema de Monitoreo de Obra - Melgarejo Celano Arquitectura & Desarrollo</p>
            <p>Arq. Eduardo Melgarejo - Reg. Prof. N¬∞. 2.912</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
